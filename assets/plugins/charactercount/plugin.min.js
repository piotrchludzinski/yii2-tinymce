tinymce.PluginManager.add("charactercount",function(b){var a=this;function d(){b.theme.panel.find("#charactercount").text(["Characters: {0}",a.getCount()])}b.on("init",function(){var e=b.theme.panel&&b.theme.panel.find("#statusbar")[0];if(e){window.setTimeout(function(){e.insert({type:"label",name:"charactercount",text:["Characters: {0}",a.getCount()],classes:"charactercount",disabled:b.settings.readonly},0);b.on("setcontent beforeaddundo",d);b.on("keyup",function(f){d()})},0)}});a.getCount=function(){var f=b.getContent({format:"raw"});var g=c(f);var h=g.replace(/(<([^>]+)>)/ig,"").trim();var e=h.length;return e};function c(f){var e=document.createElement("textarea");e.innerHTML=f;return e.value}});